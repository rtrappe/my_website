---
title: "Weather Anomalies"
author: "me"
date: "20/10/2020"
output: html_document
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="how-much-have-temperatures-changed-over-the-past-century" class="section level2">
<h2>How much have temperatures changed over the past century?</h2>
<p>First we load all the necessary libraries for this analysis:</p>
<pre class="r"><code>library(tidyverse)  
library(mosaic)
library(ggthemes)
library(lubridate)
library(here)
library(skimr)
library(janitor)
library(httr)
library(readxl)
library(vroom)</code></pre>
<p>Then we check out the data provided by NASA through the link below and skip NA variables.</p>
<pre class="r"><code>weather &lt;- 
  read_csv(&quot;https://data.giss.nasa.gov/gistemp/tabledata_v3/NH.Ts+dSST.csv&quot;, 
           skip = 1, 
           na = &quot;***&quot;)</code></pre>
<p>Further, we use the pivot function to adapt the data to our needs.</p>
<pre class="r"><code>tidyweather &lt;- weather %&gt;% 
  select(Year, Jan:Dec) %&gt;% 
  pivot_longer(cols=&quot;Jan&quot;:&quot;Dec&quot;, names_to=&quot;Month&quot;, values_to=&quot;delta&quot;)</code></pre>
<p>Now, weâ€™ll use the mutate function to further adapt the tidyweather dataframe.</p>
<pre class="r"><code>tidyweather &lt;- tidyweather %&gt;%
  mutate(date = ymd(paste(as.character(Year), Month, &quot;1&quot;)), #Paste it as Year, Month, Date 
         month = month(date, label=TRUE), #label it
         year = year(date)) 

ggplot(tidyweather, aes(x=date, y = delta))+ #create the ggplot graph
  geom_point()+
  geom_smooth(color=&quot;red&quot;) + 
  theme_bw() +
  labs (
    title = &quot;Weather Anomalies&quot;
  )</code></pre>
<p><img src="/blogs/ipsum/index_files/figure-html/scatter_plot-1.png" width="672" /></p>
<p>We can see a slight upward trend over the first half of the 20th century, and a rather steep increase from the 1970s on. Note the outliers in recent years!</p>
</div>
